## ML 标准类型

-   基础类型（basic types）

    -   `unit`
    -   `int`
    -   `real`
    -   `bool`
    -   `string`

-   表（lists）

    -   `int list`
    -   `(int -> int) list`

-   元组（tuple）

    -   `int * int`
    -   `int * int * real`

-   函数（functions）
    -   `int -> int`
    -   `real -> int * int`

所有对象要有类型，不一定显式说明，但必须能静态推导（在编译时该类型能被编译器根据上下文推算出来）

-   整型（int）
    -   负号用 `~` 表示
-   浮点型（real）

-   布尔型（bool)

    -   true, false

-   字符串型（string）

## 表（lists）

-   包含相同类型的元素序列，元素可以重复出现，其顺序是有意义的
-   表中元素用 `,` 分隔，整个表用 `[]` 括起来
-   空表：`[]` 或 `nil`
-   表达类型表达式取决于表的元素类型，写作：
    `<元素类型>list`
    如：`int list` `(int -> int)list`
-   表可以嵌套
    如：`[1, 2, 3]: int list` `["张三", "李四"]: string list`

### 表的基本函数

-   `::` 追加元素
    `1::[2, 3] = [1, 2, 3]`
-   `@` 连接表
    `[1, 2]@[3, 4] = [1, 2, 3, 4]`
-   `null` 空表测试
-   `hd` 返回表头元素
-   `tl` 返回表尾元素
-   `length` 返回表长

## 元组（tuples）

-   包含任意类型数据元素的**定长**序列
-   类型表达式：每个元素的类型用 `*` 间隔并排列在一起
    如：`int * int` `int * int * real`

-   圆括号中用逗号分隔的数据元素，允许嵌套
    如：`("张三", "男", 19, 1.75)`
    `[(("赵","子昂"), 21, 1.81), (("张", "文艺"), 20, 1.69)]`
    其类型为：`((string * string) * int * real) list`

## 记录（record）

-   类似 C 中的结构类型，可以包含不同类型的元素
-   每个元素都有名字
-   记录的值和类型的写法都用 `{}` 括起来
    如：`{First_name = "赵", Last_name = "子昂"}`

### 元组、列表、记录的对比

|          |   元组   |   列表   |   记录   |
| :------: | :------: | :------: | :------: |
|   符号   |   `()`   |   `[]`   |   `{}`   |
| 元素类型 | 可以不同 | 必须相同 | 可以不同 |
|   长度   |   定长   |   变长   |   变长   |

## 函数

-   `->` 表示定义域到值域的映射
    `fn:<定义域类型> -> <值域类型>`
    如：`fun add(x, y) = x + y;`

### ML 标准函数

-   标准布尔函数：not, andalso, orelse
-   标准算数运算函数
-   标准字符串函数

## 值（Values）

-   每个类型都有一个值的集合（函数也视作值）
-   一个类型的表达式求值结构为该类型的一个值（或出错）

### 函数求值

-   函数：以一定的规则将定义域上的值映射到值域
-   原型：`fn:<定义域类型> -> <值域类型>`

|          expression           |     Value:type      |
| :---------------------------: | :-----------------: |
|   fn(x: int) : int => x + 1   |  fn - : int -> int  |
| fn(x: real) : real => x + 1.0 | fn - : real -> real |
|           Math.sin            | fn - : real -> real |

## 声明（Declarations）

-   赋予某个对象一个名字，包括值、类型、签名、结构等
-   函数的声明：
    `fun<函数名>(<形式参数>) : <结果类型> = <函数体>`
    例：`fun divmod(x: int, y: int) : int * int = (x div y, x mod y)`
-   值的声明：
    `val pi = 3.1415`
    `val (q: int, r: int) = divmod(42, 5)`
